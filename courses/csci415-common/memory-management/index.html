<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Memory Management</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- highlight.js
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/foundation.min.css" rel="stylesheet">
    -->
    <!-- prism.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autolinker/prism-autolinker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/command-line/prism-command-line.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
  </head>
  <body>
    <div class="container pt-5">

      <h1 class="display-3 text-center">Memory Management</h1>
      <hr/>

      <p>
      Understanding memory is a critical to systems programming.  These <a
          href="slides/memory-management.pdf">slides</a> provide a quick
        introduction to a process's memory layout, the libc functions that
        dynamically allocate memory, and the relationship between virtual and
        physical memory.
      </p>

      <h1 class="display-5">Valgrind</h1>

      <p>
      <a href="https://valgrind.org/docs/manual/quick-start.html">valgrind</a>
      is an invaluable tool for diagnosing memory problems such as leaks
      and corruptions.  The tool itself is what's called a <i>dynamic binary
      instrumentor</i>, which means that it takes as input a block of your
      code's x86 instructions, adds some instrumentation for tracking
      memory, and then runs the resultant block: in essence, it is Just-in-Time
      compiling x86 to x86.  
      </p>

      <p>
      Using such a technique, valgrind can provide
      fine-grained memory analysis.  The tradeoff is that programs run much
      more slowly under valgrind.
      </p>

      <p>
      The basic usage of valgrind for tracking memory errors is:
      </p>

      <pre class="command-line" data-host="host"><code class="language-bash">
      valgrind --tool=memcheck --leak-check=yes --show-reachable=yes YOU_PROGRAM YOU_PROGRAM_ARGS
      </code></pre>

      <p>
      Let's go through a few examples.
      </p>

    </div>

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script> 
    <!-- prism.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/download-button/prism-download-button.min.js"></script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autolinker/prism-autolinker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/command-line/prism-command-line.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/file-highlight/prism-file-highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/keep-markup/prism-keep-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

  </body>
</html>
